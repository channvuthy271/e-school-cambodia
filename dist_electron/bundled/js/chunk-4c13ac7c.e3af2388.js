(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c13ac7c"],{"4a9a":function(t,e,s){"use strict";s("f920")},7307:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home p-5 bg-gray-50 text-left"},[t.loadingVideoCourse?s("div",{staticClass:"flex justify-center items-center h-screen relative -top-5"},[s("h1",{staticClass:"text-sm font-semibold font-khmer_os relative -top-20"},[s("loading")],1)]):s("div",{staticClass:"overflow-y-scroll pt-3 -mt-3 ",staticStyle:{"max-height":"100vh"},attrs:{id:"videoList"},on:{scroll:t.onScroll}},[t.videoCourses.length<=0?s("div",{staticClass:"h-screen flex justify-center items-center"},[s("img",{staticClass:"w-64  mb-5 relative -top-28",attrs:{src:"/icon/Empty/Empty.svg"}})]):t._e(),s("div",{staticClass:"grid grid-cols-4 gap-4 mb-40"},t._l(t.videoCourses,(function(e,a){return s("div",{key:a,staticClass:"flex-col mb-5 relative cursor-pointer"},[s("div",[e.is_new?s("div",{staticClass:"absolute right-0 top-0 z-50",staticStyle:{"margin-top":"-8px","margin-right":"-8px"}},[s("img",{staticClass:"w-10",attrs:{src:"/icon/New/New.png"}})]):t._e(),s("div",{staticClass:"clear-both",attrs:{id:e._id}},[s("div",{staticClass:"relative",on:{click:function(s){return t.goToPlayList(e)}}},[s("img",{staticClass:"w-full",attrs:{src:e.thumbnail}}),e.last_watch?s("input",{staticClass:"w-full percentage cursor-default absolute bottom-0 left-0",style:t.lastWatchMark(e.last_watch.percentage),attrs:{type:"range",min:"0",max:"100",value:"100",step:"1"}}):t._e()]),s("div",{staticClass:"absolute flex justify-start items-center font-khmer_os -bottom-1 mb-17 left-0 bg-white w-full bg-opacity-60 h-8"},[s("img",{staticClass:"rounded rounded-full h-10 shadow ml-3",attrs:{src:e.teacher.photo,alt:"teacher"}}),s("span",{staticClass:"text-14px ml-2"},[t._v(t._s(e.teacher.name))])])]),s("div",{staticClass:"flex justify-between"},[s("div",{staticClass:"flex-cols"},[s("div",{staticClass:"font-khmer_os text-14px mt-3 font-semibold text-gray-700",domProps:{innerHTML:t._s(t.cutString(e.title,t.window.width<=1366?30:45))},on:{click:function(s){return t.goToPlayList(e)}}}),s("div",{staticClass:"flex"},[e.price.discount?s("del",{staticClass:"mr-2"},[t._v("$"+t._s(e.price.discount))]):t._e(),e.price.year?s("span",{staticClass:"text-red-700"},[t._v("$"+t._s(e.price.year))]):t._e(),e.price.discount||e.price.year?t._e():s("span",{staticClass:"text-gray-400 font-khmer_os text-14px"},[t._v(" មិនគិតថ្លៃ ")])])]),!e.is_in_cart&&e.price.year?s("div",{staticClass:"mt-3",on:{click:function(s){return t.addCartToCart(e._id)}}},[s("CartIcon",{attrs:{size:20,fill:"#F3F4F6"}})],1):t._e()])])])})),0)])])},i=[],r=s("34bb"),o=s("2f62"),n=s("646b"),c=s("3a5e"),l=s("c1df"),d=s.n(l),u=s("2c5f"),h={name:"Video",components:{Loading:c["a"],CartIcon:u["a"]},data(){return{window:{width:0,height:0},page:1,noResult:!1}},computed:{...Object(o["c"])("course",["videoCourses","loadingVideoCourse","teacher"]),query(){return this.$store.state.course.s},removedCart(){return this.$store.state.cart.removedCart},gradeID(){return this.$store.state.course.gradeID}},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{...Object(o["b"])("course",["getVideoCourse","videoCoursePagination","afterAddToCart"]),...Object(o["b"])("cart",["addCart","getCart"]),addCartToCart(t){this.addCart(t).then(()=>{this.afterAddToCart(t),this.getCart()})},lastWatchMark(t){return`background: linear-gradient(90deg, rgb(255, 14, 9) ${t}%, rgb(214, 214, 214) 0%)`},handleResize(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},onScroll({target:{scrollTop:t,clientHeight:e,scrollHeight:s}}){t+e>=s&&(this.page++,this.noResult||this.videoCoursePagination(this.page).then(t=>{t.length<=0&&(this.noResult=!0)}))},formatDate(t){return d.a.locale("km"),d()(t).format("ll")},cutString(t,e){return n["a"].cutString(t,e)},goToPlayList(t){this.$store.commit("course/getTeacherInfo",t.teacher);let e=1;t.last_watch&&t.last_watch.order&&(e=t.last_watch.order),this.$router.push({name:"course-detail",params:{videoId:t._id,order:e,courseId:t._id}})}},created(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.getVideoCourse(),r["ipcRenderer"].on("resetGrade",()=>{this.page=1})},watch:{query:function(){this.getVideoCourse()},gradeID:function(){this.getVideoCourse()},removedCart:function(t){this.afterAddToCart(t)}}},g=h,m=(s("4a9a"),s("2877")),C=Object(m["a"])(g,a,i,!1,null,null,null);e["default"]=C.exports},f920:function(t,e,s){}}]);
//# sourceMappingURL=chunk-4c13ac7c.e3af2388.js.map