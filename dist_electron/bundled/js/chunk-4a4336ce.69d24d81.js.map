{"version":3,"sources":["webpack:///./src/views/Book/Book.vue?85df","webpack:///./src/views/Book/components/View.vue?9c4f","webpack:///src/views/Book/components/View.vue","webpack:///./src/views/Book/components/View.vue?55c3","webpack:///./src/views/Book/components/View.vue","webpack:///src/views/Book/Book.vue","webpack:///./src/views/Book/Book.vue?8786","webpack:///./src/views/Book/Book.vue","webpack:///./src/views/Book/Book.vue?409b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","loadingEbook","_e","class","member_id","on","$event","filterBook","_v","_l","book","key","_id","_s","title","ebookCourses","length","attrs","onScroll","ebook","staticStyle","thumbnail","openView","price","year","discount","inCart","is_in_cart","addToCart","bookView","loading","cartId","closeView","read","buyingRead","bookReading","closeReading","closeCart","staticRenderFns","_m","size","view","alreadyInCart","is_buy","teacher","name","domProps","des","loadingCart","component"],"mappings":"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","file":"js/chunk-4a4336ce.69d24d81.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-5 pt-5\"},[(!_vm.loadingEbook)?_c('div',{staticClass:\"flex font-khmer_os text-14px mb-4\"},[_c('div',{staticClass:\"cursor-pointer bg-gray-200  rounded-full px-2 py-1 mr-3 border border-gray-300 hover:bg-gray-300\",class:_vm.member_id === ''?'bg-gray-300':'',on:{\"click\":function($event){return _vm.filterBook('')}}},[_vm._v(\" សៀវភៅ \")]),_vm._l((_vm.bookNav),function(book,key){return _c('div',{key:key,staticClass:\"cursor-pointer bg-gray-200  rounded-full px-2 py-1 mr-3 border border-gray-300 hover:bg-gray-300\",class:_vm.member_id === book._id?'bg-gray-300':'',on:{\"click\":function($event){return _vm.filterBook(book._id)}}},[_vm._v(\" \"+_vm._s(book.title)+\" \")])})],2):_vm._e(),(_vm.loadingEbookCourse)?_c('div',{staticClass:\"flex justify-center items-center h-screen relative -top-5\"},[_c('h1',{staticClass:\"text-sm font-semibold font-khmer_os relative -top-28\"},[_c('loading')],1)]):_c('div',{staticClass:\"h-screen pb-36\"},[(_vm.ebookCourses.length <= 0)?_c('div',{staticClass:\"h-screen flex justify-center items-center\"},[_c('img',{staticClass:\"w-64  mb-5 relative -top-28\",attrs:{\"src\":\"/icon/Empty/Empty.svg\"}})]):_vm._e(),_c('div',{staticClass:\"grid grid-cols-6 gap-4 font-khmer_os pt-2 overflow-y-scroll h-full\",attrs:{\"id\":\"feed\"},on:{\"scroll\":_vm.onScroll}},_vm._l((_vm.ebookCourses),function(ebook,key){return _c('div',{key:key},[_c('div',{staticClass:\"cursor-pointer relative\",class:key ===(_vm.ebookCourses.length - 1)?'pb-16':''},[(ebook.is_new)?_c('div',{staticClass:\"absolute right-0 top-0\"},[_c('img',{staticClass:\"w-10\",staticStyle:{\"margin-top\":\"-8px\",\"margin-right\":\"-8px\"},attrs:{\"src\":\"/icon/New/New.png\"}})]):_vm._e(),_c('img',{staticClass:\"cursor-pointer\",attrs:{\"src\":ebook.thumbnail},on:{\"click\":function($event){return _vm.openView(ebook)}}}),(_vm.member_id ==='')?_c('div',{staticClass:\"flex justify-between items-center mt-4 w-full px-2\"},[_c('div',{staticClass:\"text-14px\",on:{\"click\":function($event){return _vm.openView(ebook)}}},[(ebook.price.year === 0)?_c('div',[_vm._v(\"មិនគិតថ្លៃ\")]):_c('div',[_vm._v(\"តម្លៃ \"),_c('del',[_vm._v(\"$\"+_vm._s(ebook.price.discount))]),_c('span',{staticClass:\"text-red-500\"},[_vm._v(\" $\"+_vm._s(ebook.price.year))])])]),(!_vm.inCart(ebook._id))?[(ebook.price.year && !ebook.is_in_cart)?_c('div',{on:{\"click\":function($event){return _vm.addToCart(ebook._id)}}},[_c('CartIcon',{attrs:{\"width\":18,\"height\":18,\"fill\":\"#F3F4F6\"}})],1):_vm._e()]:_vm._e()],2):_vm._e()])])}),0)]),(_vm.showView)?_c('ViewBook',{attrs:{\"view\":_vm.bookView,\"loading\":_vm.loading,\"cartId\":_vm.cartId},on:{\"closeView\":_vm.closeView,\"read\":function($event){return _vm.read($event)},\"buyingRead\":function($event){return _vm.buyingRead($event)}}}):_vm._e(),(_vm.showReading)?_c('ReadingBook',{attrs:{\"books\":_vm.bookReading},on:{\"closeReading\":_vm.closeReading,\"buyingRead\":function($event){return _vm.buyingRead($event)}}}):_vm._e(),(_vm.showingCart)?_c('Cart',{on:{\"closeCart\":_vm.closeCart}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fixed z-50 inset-0 overflow-y-auto\"},[_c('div',{staticClass:\"flex items-end justify-center min-h-screen text-center sm:block sm:p-0\"},[_vm._m(0),_c('span',{staticClass:\"hidden sm:inline-block sm:align-middle sm:h-screen\",attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"​\")]),_c('div',{staticClass:\"inline-block align-bottom bg-white rounded text-left overflow-hidden shadow-xl transform transition-all  sm:align-middle\",class:(\"w-\" + _vm.size),attrs:{\"role\":\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"modal-headline\"}},[_c('div',{staticClass:\"bg-white font-khmer_os relative\"},[_c('div',{staticClass:\"flex-cols items-center\"},[_c('div',{staticClass:\"flex justify-between items-center p-5\"},[_c('div',{staticClass:\"flex-1 text-center\"},[_vm._v(_vm._s(_vm.view.title))]),_c('div',{staticClass:\"cursor-pointer opacity-60\",on:{\"click\":_vm.closeView}},[_c('CloseIcon',{attrs:{\"width\":20,\"height\":20}})],1)]),_c('div',{staticClass:\"relative pb-10\",staticStyle:{\"max-height\":\"600px\",\"overflow-y\":\"scroll\"}},[_c('div',{staticClass:\"bg-black py-5 relative\"},[_c('img',{staticClass:\"m-auto\",staticStyle:{\"max-width\":\"50%\"},attrs:{\"src\":_vm.view.thumbnail}}),(!_vm.alreadyInCart(_vm.view._id ) && !_vm.view.is_in_cart)?[(_vm.view.is_buy !==0)?_c('div',{staticClass:\"absolute bottom-5 right-5 bg-white rounded py-1 px-2 cursor-pointer opacity-80 hover:opacity-100\",on:{\"click\":function($event){return _vm.addToCart(_vm.view._id)}}},[_c('CartIcon',{attrs:{\"width\":20,\"height\":20}})],1):_vm._e()]:_vm._e()],2),_c('div',{staticClass:\"text-center text-custom p-2 font-medium cursor-pointer flex justify-center items-center\",on:{\"click\":function($event){return _vm.read(_vm.view._id,_vm.view.title)}}},[_vm._v(\" អាន \"),(_vm.loading)?_c('img',{staticClass:\"ml-2\",attrs:{\"src\":\"/ajax-loader.gif\"}}):_vm._e()]),_c('hr'),_c('div',{staticClass:\"p-5\"},[_c('p',[_vm._v(_vm._s(_vm.view.title))]),_c('p',[_vm._v(\"ម្ចាស់សៀវភៅ៖ \"+_vm._s(_vm.view.teacher.name))]),_c('p',{staticClass:\"mt-5 mr-5 text-13px\",staticStyle:{\"white-space\":\"pre-wrap\"},domProps:{\"innerHTML\":_vm._s(_vm.view.des)}})])])]),(_vm.view.price.year)?_c('button',{staticClass:\"fixed bottom-0 bg-blue w-full p-3 bg-custom text-center text-white cursor-pointer focus:outline-none\",attrs:{\"disabled\":_vm.loadingCart},on:{\"click\":function($event){return _vm.addToCart(_vm.view._id)}}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.view.is_buy?'បន្តសុពលភាព':'ទិញ')}}),_vm._v(\" \"),(_vm.loadingCart)?_c('span',[_c('Loader',{attrs:{\"size\":10}})],1):_vm._e()]):_vm._e()])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fixed inset-0 transition-opacity\",attrs:{\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"absolute inset-0 bg-gray-500 opacity-75\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"fixed z-50 inset-0 overflow-y-auto\">\r\n        <div class=\"flex items-end justify-center min-h-screen text-center sm:block sm:p-0\">\r\n            <div class=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\r\n                <div class=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\r\n            </div>\r\n            <span class=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\r\n            <div class=\"inline-block align-bottom bg-white rounded text-left overflow-hidden shadow-xl transform transition-all  sm:align-middle\"\r\n                 :class=\"`w-${size}`\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-headline\">\r\n                <div class=\"bg-white font-khmer_os relative\">\r\n                    <div class=\"flex-cols items-center\">\r\n                        <div class=\"flex justify-between items-center p-5\">\r\n\r\n                            <div class=\"flex-1 text-center\">{{view.title}}</div>\r\n                            <div class=\"cursor-pointer opacity-60\" @click=\"closeView\">\r\n                                <CloseIcon :width=\"20\" :height=\"20\"></CloseIcon>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"relative pb-10\" style=\"max-height: 600px;overflow-y: scroll\">\r\n                            <div class=\"bg-black py-5 relative\">\r\n                                <img :src=\"view.thumbnail\" class=\"m-auto\" style=\"max-width:50%\"/>\r\n                                <template v-if=\"!alreadyInCart(view._id ) && !view.is_in_cart\">\r\n                                    <div class=\"absolute bottom-5 right-5 bg-white rounded py-1 px-2 cursor-pointer opacity-80 hover:opacity-100\"\r\n                                         v-if=\"view.is_buy !==0\" @click=\"addToCart(view._id)\">\r\n                                        <CartIcon :width=\"20\" :height=\"20\"></CartIcon>\r\n                                    </div>\r\n                                </template>\r\n                            </div>\r\n                            <div class=\"text-center text-custom p-2 font-medium cursor-pointer flex justify-center items-center\"\r\n                                 @click=\"read(view._id,view.title)\">\r\n                                អាន <img src=\"/ajax-loader.gif\" v-if=\"loading\" class=\"ml-2\"/>\r\n                            </div>\r\n                            <hr>\r\n                            <div class=\"p-5\">\r\n                                <p>{{view.title}}</p>\r\n                                <p>ម្ចាស់សៀវភៅ៖ {{view.teacher.name}}</p>\r\n                                <p class=\"mt-5 mr-5 text-13px\" v-html=\"view.des\" style=\"white-space: pre-wrap\"></p>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <button class=\"fixed bottom-0 bg-blue w-full p-3 bg-custom text-center text-white cursor-pointer focus:outline-none\"\r\n                            :disabled=\"loadingCart\"\r\n                            @click=\"addToCart(view._id)\" v-if=\"view.price.year\">\r\n                        <span v-text=\"view.is_buy?'បន្តសុពលភាព':'ទិញ'\"></span> <span v-if=\"loadingCart\"><Loader\r\n                            :size=\"10\"></Loader></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import CloseIcon  from \"./../../../components/CloseIcon.vue\"\r\n    import CartIcon from \"./../../../components/CartIcon.vue\"\r\n    import {mapActions, mapState} from \"vuex\"\r\n    import Loader from \"./../../../components/Loader.vue\"\r\n\r\n\r\n    export default{\r\n        name: \"ViewBook\",\r\n        components: {\r\n            CloseIcon,\r\n            CartIcon,\r\n            Loader\r\n        },\r\n        props: {\r\n            cartId: {\r\n                type: String,\r\n                default: () => {\r\n                    return \"\"\r\n                }\r\n            },\r\n            loading: {\r\n                type: Boolean,\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n            view: {\r\n                type: Object,\r\n            },\r\n            size: {\r\n                type: Number,\r\n                default: () => {\r\n                    return 96;\r\n                }\r\n            },\r\n            hide: {\r\n                type: Boolean,\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n        },\r\n\r\n        computed: {\r\n            ...mapState('cart', ['loadingCart', 'cart'])\r\n        },\r\n        methods: {\r\n            ...mapActions('cart', ['addCart', 'getCart']),\r\n\r\n            addToCart(course_id){\r\n                this.addCart(course_id).then(() => {\r\n                    this.$emit('buyingRead', course_id)\r\n                    this.getCart()\r\n                })\r\n            },\r\n            closeView($event){\r\n                this.$emit(\"closeView\", $event);\r\n            },\r\n            read(id, title){\r\n                this.$emit('read', {id, title})\r\n            },\r\n\r\n            showCart($event){\r\n                this.$emit(\"showCart\", $event);\r\n            },\r\n            alreadyInCart(course_id){\r\n                for (let i = 0; i < this.cart.list.length; i++) {\r\n                    if (this.cart.list[i]._id === course_id) {\r\n                        return true\r\n                    }\r\n                }\r\n                return false\r\n            }\r\n        },\r\n        created(){\r\n            this.getCart()\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./View.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./View.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./View.vue?vue&type=template&id=a124dc32&\"\nimport script from \"./View.vue?vue&type=script&lang=js&\"\nexport * from \"./View.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"px-5 pt-5\">\r\n        <div class=\"flex font-khmer_os text-14px mb-4\" v-if=\"!loadingEbook\">\r\n            <div class=\"cursor-pointer bg-gray-200  rounded-full px-2 py-1 mr-3 border border-gray-300 hover:bg-gray-300\"\r\n                 :class=\"member_id === ''?'bg-gray-300':''\"\r\n                 @click=\"filterBook('')\">\r\n                សៀវភៅ\r\n            </div>\r\n            <div class=\"cursor-pointer bg-gray-200  rounded-full px-2 py-1 mr-3 border border-gray-300 hover:bg-gray-300\"\r\n                 :class=\"member_id === book._id?'bg-gray-300':''\"\r\n                 v-for=\"(book, key) in bookNav\" :key=\"key\"\r\n                 @click=\"filterBook(book._id)\"\r\n            >\r\n                {{book.title}}\r\n            </div>\r\n        </div>\r\n        <div v-if=\"loadingEbookCourse\" class=\"flex justify-center items-center h-screen relative -top-5\">\r\n            <h1 class=\"text-sm font-semibold font-khmer_os relative -top-28\">\r\n                <loading></loading>\r\n            </h1>\r\n        </div>\r\n\r\n        <div class=\"h-screen pb-36\" v-else>\r\n            <div class=\"h-screen flex justify-center items-center\" v-if=\"ebookCourses.length <= 0\">\r\n                <img src=\"/icon/Empty/Empty.svg\" class=\"w-64  mb-5 relative -top-28\"/>\r\n            </div>\r\n            <div class=\"grid grid-cols-6 gap-4 font-khmer_os pt-2 overflow-y-scroll h-full\"\r\n                 @scroll=\"onScroll\" id=\"feed\">\r\n                <div v-for=\"(ebook, key) in ebookCourses\" :key=\"key\">\r\n                    <div class=\"cursor-pointer relative\" :class=\"key ===(ebookCourses.length - 1)?'pb-16':''\">\r\n                        <div class=\"absolute right-0 top-0\" v-if=\"ebook.is_new\">\r\n                            <img src=\"/icon/New/New.png\" class=\"w-10\" style=\"margin-top: -8px; margin-right:-8px;\"/>\r\n                        </div>\r\n                        <img :src=\"ebook.thumbnail\" @click=\"openView(ebook)\" class=\"cursor-pointer\"/>\r\n                        <div class=\"flex justify-between items-center mt-4 w-full px-2\" v-if=\"member_id ===''\">\r\n                            <div class=\"text-14px\" @click=\"openView(ebook)\">\r\n                                <div v-if=\"ebook.price.year === 0\">មិនគិតថ្លៃ</div>\r\n                                <div v-else>តម្លៃ\r\n                                    <del>${{ebook.price.discount}}</del>\r\n                                    <span class=\"text-red-500\"> ${{ebook.price.year}}</span></div>\r\n                            </div>\r\n                            <template v-if=\"!inCart(ebook._id)\">\r\n                                <div v-if=\"ebook.price.year && !ebook.is_in_cart\" @click=\"addToCart(ebook._id)\">\r\n                                    <CartIcon :width=\"18\" :height=\"18\" fill=\"#F3F4F6\"/>\r\n                                </div>\r\n                            </template>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <ViewBook v-if=\"showView\" :view=\"bookView\" @closeView=\"closeView\" @read=\"read($event)\"\r\n                  :loading=\"loading\" :cartId=\"cartId\" @buyingRead=\"buyingRead($event)\"></ViewBook>\r\n        <ReadingBook v-if=\"showReading\" :books=\"bookReading\" @closeReading=\"closeReading\"\r\n                     @buyingRead=\"buyingRead($event)\"></ReadingBook>\r\n        <Cart v-if=\"showingCart\" @closeCart=\"closeCart\"></Cart>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ViewBook from \"./components/View\"\r\n    import ReadingBook from \"./components/Read\"\r\n    import {mapState, mapActions} from \"vuex\"\r\n    import CartIcon from \"./../../components/CartIcon\"\r\n    import Cart from \"./../MyCourse/components/Cart\"\r\n    import Loading from \"./../../components/Loading\"\r\n    export default{\r\n        name: \"Book\",\r\n        components: {\r\n            CartIcon,\r\n            ViewBook,\r\n            ReadingBook,\r\n            Cart,\r\n            Loading\r\n        },\r\n        data(){\r\n            return {\r\n                window: {\r\n                    width: 0,\r\n                    height: 0\r\n                },\r\n                showView: false,\r\n                showReading: false,\r\n                showingCart: false,\r\n                bookView: \"\",\r\n                page: 1,\r\n                member_id: '',\r\n                loading: false,\r\n                bookReading: \"\",\r\n                title: \"\",\r\n                cartId: \"\",\r\n                noResult:false,\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState('course', ['loadingEbook', 'bookNav', 'loadingEbookCourse', 'ebookCourses']),\r\n            ...mapState('cart', ['cartAdded']),\r\n            query: {\r\n                get(){\r\n                    return this.$store.state.course.s\r\n                },\r\n                set(newQuery){\r\n                    return newQuery\r\n                }\r\n            },\r\n            gradeID: {\r\n                get(){\r\n                    return this.$store.state.course.gradeID\r\n                },\r\n                set(gradeID){\r\n                    return gradeID\r\n                }\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            ...mapActions('course', ['getEbook', 'getCourseEbook', 'getCourseEbookPagination', 'readBook', 'setLessonTitle']),\r\n            ...mapActions('cart', ['addCart', 'cartAlert']),\r\n            handleResize() {\r\n                this.window.width = window.innerWidth;\r\n                this.window.height = window.innerHeight;\r\n            },\r\n            closeReading(){\r\n                this.showReading = false\r\n            },\r\n\r\n            filterBook(member_id){\r\n                this.page = 1;\r\n                this.member_id = member_id\r\n                this.getCourseEbook({\r\n                    page: this.page,\r\n                    member_id\r\n                })\r\n            },\r\n\r\n            addToCart(course_id){\r\n                this.cartId = course_id;\r\n                this.addCart(course_id).then(() => {\r\n                    this.cartAlert(course_id)\r\n                })\r\n            },\r\n            inCart(course_id){\r\n                if (this.cartAdded && this.cartAdded.length) {\r\n                    for (let index = 0; index < this.cartAdded.length; index++) {\r\n                        if (this.cartAdded[index] === course_id) {\r\n                            return true\r\n                        }\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n\r\n            read($event){\r\n                this.title = $event.title\r\n                this.setLessonTitle(this.title)\r\n                this.loading = true\r\n                this.readBook({course_id: $event.id, order: ''}).then(response => {\r\n                    this.bookReading = response\r\n\r\n                    this.loading = false\r\n                    this.showView = false\r\n                    this.showReading = true\r\n                })\r\n            },\r\n            buyingRead(){\r\n                this.showView = false\r\n                this.showingCart = true\r\n                this.showReading = false\r\n            },\r\n            closeCart(){\r\n                this.showingCart = false\r\n            },\r\n            closeView(){\r\n                this.showView = false\r\n\r\n            },\r\n            openView(ebook){\r\n                this.bookView = ebook\r\n                this.showView = true\r\n            },\r\n            onScroll ({target: {scrollTop, clientHeight, scrollHeight}}) {\r\n                if (scrollTop + clientHeight >= scrollHeight) {\r\n                    this.page++\r\n                    if(!this.noResult){\r\n                        this.getCourseEbookPagination({\r\n                        page: this.page,\r\n                        member_id: this.member_id\r\n                        }).then(response =>{\r\n                            if(response.length <=0){\r\n                                this.noResult = true\r\n                            }\r\n                        })\r\n                        \r\n                    }\r\n                    \r\n                }\r\n            },\r\n        },\r\n        destroyed() {\r\n            window.removeEventListener('resize', this.handleResize);\r\n        },\r\n        created(){\r\n            window.addEventListener('resize', this.handleResize);\r\n            this.handleResize();\r\n\r\n            this.getEbook(this.page).then(() => {\r\n                this.getCourseEbook({\r\n                    page: this.page,\r\n                    member_id: ''\r\n                })\r\n            })\r\n        },\r\n\r\n        watch: {\r\n            query: function () {\r\n                this.getCourseEbook({\r\n                    page: this.page,\r\n                    member_id: this.member_id\r\n                })\r\n            },\r\n            gradeID: function () {\r\n                this.getCourseEbook({\r\n                    page: this.page,\r\n                    member_id: this.member_id\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    #feed::-webkit-scrollbar {\r\n        width: 5px !important;\r\n    }\r\n    #feed::-webkit-scrollbar-track {\r\n        -webkit-box-shadow: inset 0 0 0px rgba(0, 0, 0, 0.3) !important;\r\n    }\r\n\r\n    #feed::-webkit-scrollbar-thumb {\r\n        -webkit-box-shadow: inset 0 0 0px rgba(0, 0, 0, 0.5) !important;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Book.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Book.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Book.vue?vue&type=template&id=abee6c30&\"\nimport script from \"./Book.vue?vue&type=script&lang=js&\"\nexport * from \"./Book.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Book.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Book.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}