{"version":3,"sources":["webpack:///./src/views/Invoice/Invoice.vue?28f0","webpack:///src/views/Invoice/Invoice.vue","webpack:///./src/views/Invoice/Invoice.vue?10f5","webpack:///./src/views/Invoice/Invoice.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","receipts","length","attrs","_e","class","window","width","staticStyle","_l","receipt","key","on","$event","viewReceipt","status","_v","_s","formatDate","date","amount","removeReceipt","_id","receiptDetail","message","success","closeInfo","closeMessage","ConfirmDelete","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d2178fc.a602ebdf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-white px-5 h-screen py-5\"},[(_vm.receipts && _vm.receipts.length<=0)?_c('div',{staticClass:\"flex justify-center h-screen\"},[_c('img',{staticClass:\"w-64  mb-5 relative -top-14\",attrs:{\"src\":\"/icon/Empty/Empty.svg\"}})]):_vm._e(),(_vm.takingReceipt)?_c('div',{staticClass:\"flex justify-center items-center h-screen relative -top-5\"},[_c('h1',{staticClass:\"text-sm font-semibold font-khmer_os relative -top-10\"},[_c('loading')],1)]):_c('div',{staticClass:\"overflow-y-scroll h-screen\"},[_c('div',{staticClass:\"grid gap-4  mb-40\",class:_vm.window.width <=1366?'grid-cols-3':_vm.window.width <=1440?'grid-cols-3':'grid-cols-4',staticStyle:{\"max-height\":\"100vh\"}},_vm._l((_vm.receipts),function(receipt,key){return _c('div',{key:key},[_c('div',{staticClass:\"flex rounded border border-gray-300 p-3 items-center relative\"},[_c('div',{staticClass:\"flex flex-1 z-40  cursor-pointer\",on:{\"click\":function($event){return _vm.viewReceipt(receipt)}}},[_c('div',{staticClass:\"mr-3\"},[_c('InvoiceIcon',{attrs:{\"size\":\"40\",\"fill\":receipt.status !==1?'#000000':'#34D399'}})],1),_c('div',{staticClass:\"cursor-pointer\"},[_c('div',[_vm._v(_vm._s(receipt.receipt))]),_c('div',{staticClass:\"text-13px text-gray-500\"},[_vm._v(_vm._s(_vm.formatDate(receipt.date)))])])]),_c('div',{staticClass:\"absolute right-5 flex z-50\"},[_c('div',{staticClass:\"font-semibold mr-2\"},[_vm._v(\"$\"+_vm._s(receipt.amount))]),(receipt.status !==1)?_c('div',{staticClass:\"cursor-pointer\",staticStyle:{\"margin-top\":\"3px\"},on:{\"click\":function($event){return _vm.removeReceipt(receipt._id)}}},[_c('DeleteIcon')],1):_vm._e()])])])}),0)]),(_vm.showInfo)?_c('ReceiptInfo',{attrs:{\"receiptDetail\":_vm.receiptDetail,\"message\":_vm.message,\"success\":_vm.success},on:{\"closeInfo\":_vm.closeInfo}}):_vm._e(),(_vm.showConfirm)?_c('ConfirmDelete',{on:{\"closeMessage\":_vm.closeMessage,\"ConfirmDeleteCart\":_vm.ConfirmDelete}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"bg-white px-5 h-screen py-5\">\r\n        <div v-if=\"receipts && receipts.length<=0\" class=\"flex justify-center h-screen\">\r\n            <img src=\"/icon/Empty/Empty.svg\" class=\"w-64  mb-5 relative -top-14\"/>\r\n        </div>\r\n        <div v-if=\"takingReceipt\" class=\"flex justify-center items-center h-screen relative -top-5\">\r\n            <h1 class=\"text-sm font-semibold font-khmer_os relative -top-10\">\r\n                <loading></loading>\r\n            </h1>\r\n        </div>\r\n        <div class=\"overflow-y-scroll h-screen\" v-else>\r\n            <div class=\"grid gap-4  mb-40\" style=\"max-height:100vh\"\r\n                 :class=\"window.width <=1366?'grid-cols-3':window.width <=1440?'grid-cols-3':'grid-cols-4'\"\r\n            >\r\n                <div v-for=\"(receipt,key) in receipts\" :key=\"key\">\r\n                    <div class=\"flex rounded border border-gray-300 p-3 items-center relative\">\r\n                        <div class=\"flex flex-1 z-40  cursor-pointer\" @click=\"viewReceipt(receipt)\">\r\n                            <div class=\"mr-3\">\r\n                                <InvoiceIcon size=\"40\" :fill=\"receipt.status !==1?'#000000':'#34D399'\"></InvoiceIcon>\r\n                            </div>\r\n                            <div class=\"cursor-pointer\">\r\n                                <div>{{receipt.receipt}}</div>\r\n                                <div class=\"text-13px text-gray-500\">{{formatDate(receipt.date)}}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"absolute right-5 flex z-50\">\r\n                            <div class=\"font-semibold mr-2\">${{receipt.amount}}</div>\r\n                            <div class=\"cursor-pointer\" style=\"margin-top:3px;\" @click=\"removeReceipt(receipt._id)\"\r\n                                 v-if=\"receipt.status !==1\">\r\n                                <DeleteIcon></DeleteIcon>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <ReceiptInfo v-if=\"showInfo\" :receiptDetail=\"receiptDetail\" @closeInfo=\"closeInfo\"\r\n                     :message=\"message\" :success=\"success\"></ReceiptInfo>\r\n        <ConfirmDelete v-if=\"showConfirm\" @closeMessage=\"closeMessage\"\r\n                       @ConfirmDeleteCart=\"ConfirmDelete\"></ConfirmDelete>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {mapActions, mapState} from \"vuex\"\r\n    import InvoiceIcon from \"./../../components/InvoiceIcon\"\r\n    import DeleteIcon from \"./../MyCourse/components/DeleteIcon\"\r\n    import ReceiptInfo from \"./../MyCourse/components/ReceiptInfo\"\r\n    import ConfirmDelete from \"./../MyCourse/components/ConfirmDelete\"\r\n    import moment from \"moment\"\r\n    import Loading from \"./../../components/Loading\"\r\n    export default{\r\n        name: \"Invoice\",\r\n        components: {\r\n            InvoiceIcon,\r\n            DeleteIcon,\r\n            ReceiptInfo,\r\n            ConfirmDelete,\r\n            Loading\r\n        },\r\n        data(){\r\n            return {\r\n                window: {\r\n                    width: 0,\r\n                    height: 0\r\n                },\r\n                showConfirm: false,\r\n                receiptId: \"\",\r\n                showInfo: false,\r\n                message: \"ពត៍មានបង់ប្រាក់\",\r\n                active: 1,\r\n                success: false,\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState('receipt', ['receipts', 'takingReceipt', 'receiptDetail', 'loadingReceipt']),\r\n        },\r\n        destroyed() {\r\n            window.removeEventListener('resize', this.handleResize);\r\n        },\r\n        methods: {\r\n            ...mapActions('receipt', ['deleteReceipt', 'getReceipt', 'getReceiptDetail']),\r\n\r\n            handleResize() {\r\n                this.window.width = window.innerWidth;\r\n                this.window.height = window.innerHeight;\r\n            },\r\n            viewReceipt(receipt){\r\n                if (receipt.status === 1) {\r\n                    this.success = true\r\n                } else {\r\n                    this.success = false\r\n                }\r\n                this.message = \"ពត៍មានបង់ប្រាក់\"\r\n                this.getReceiptDetail(receipt._id).then(() => {\r\n                    this.showInfo = true\r\n                })\r\n\r\n            },\r\n            closeInfo(){\r\n                this.showInfo = false\r\n            },\r\n            removeReceipt(receiptId){\r\n                this.showConfirm = true\r\n                this.receiptId = receiptId\r\n            },\r\n            closeMessage(){\r\n                this.showConfirm = false\r\n            },\r\n            ConfirmDelete(){\r\n                this.deleteReceipt(this.receiptId).then(() => {\r\n                    this.showConfirm = false\r\n                })\r\n            },\r\n            formatDate(date){\r\n                moment.locale('en')\r\n                if (!date) {\r\n                    return\r\n                }\r\n                return moment(date).format(\"DD-MM-YYY h:mm\")\r\n            }\r\n        },\r\n        created(){\r\n            window.addEventListener('resize', this.handleResize);\r\n            this.handleResize();\r\n            this.getReceipt(0)\r\n        }\r\n\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invoice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Invoice.vue?vue&type=template&id=f5b1bd90&\"\nimport script from \"./Invoice.vue?vue&type=script&lang=js&\"\nexport * from \"./Invoice.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}